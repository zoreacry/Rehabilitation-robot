function [Con_1]=attidmate_control_Force_help(x_move)
%导纳控制
%----------------------------------------------------------------
%使用二阶+一阶成分进行模拟
%设定：M=5；B=2;K=3;
%环境力C=4;
%-----------------------------------------
i=1;
%---------------------------------------------------------
% 机器收到外力，进行运动，输入力输出位移
%修改：
%1.M\B\K
%2.修改F_ext  应与运动平台传感器力同
%---------------------------------------------------------------------------
M=[1,0,0,0,0,0;...
   0,1,0,0,0,0;...
   0,0,1,0,0,0;...
   0,0,0,1,0,0;...
   0,0,0,0,1,0;...
   0,0,0,0,0,1];
B=[2,0,0,0,0,0;...
   0,1,0,0,0,0;...
   0,0,1,0,0,0;...
   0,0,0,1,0,0;...
   0,0,0,0,2,0;...
   0,0,0,0,0,4];
K=[3,0,0,0,0,0;...
   0,1,0,0,0,0;...
   0,0,1,0,0,0;...
   0,0,0,1,0,0;...
   0,0,0,0,1,0;...
   0,0,0,0,0,1];
C=[1,0,0,0,0,0;...
   0,1,0,0,0,0;...
   0,0,1,0,0,0;...
   0,0,0,1,0,0;...
   0,0,0,0,1,0;...
   0,0,0,0,0,1];
%----------------------------------------------------------------------------
Con_1=zeros(1,16);
Con_2=zeros(1,16);
Con_3=zeros(1,16);
Con_4=zeros(1,16);
Con_5=zeros(1,16);
Con_6=zeros(1,16);
%----------------------------------初始数据----------------------------------------------
T_s=0.1;                    %s
m=2;                        %kg
dx_re=[0;0;0;0;0;0];        %m            
dx_d_re=[0;0;0;0;0;0];      %m/s
dx_dd_re=[0;0;0;0;0;0];     %m/s'2
%-----------------------------------外力模拟-----------------------------------------------
F_ext=C*5;
%-------------------------------------运动轨迹--------------------------------------------
%设定一个轨迹，要求：速度，加速度，位移皆有------
%-----------------------------------------------------------------------------------------





%-----------------------------------------------------------------------------
  Jud_1= F_ext(1)+F_ext(2)+ F_ext(3)+ F_ext(4)+ F_ext(5)+ F_ext(6);

while  Jud_1 >0.01

   
   F_ext=C*x_move(:,i);
    
   dx_dd_act= inv(M)*(F_ext-B*dx_d_re-K*dx_re);
   dx_d_act = (T_s/2)*(dx_dd_act+dx_dd_re)+dx_d_re;
   dx_act   = (T_s/2)*(dx_d_act+dx_d_re)+dx_re;
   
   
    dx_dd_re = dx_dd_act;
    dx_d_re = dx_d_act;
    dx_re = dx_act;
    
       Con_1(i)=dx_re(1);
       Con_2(i)=dx_re(2);
       Con_3(i)=dx_re(3);
       Con_4(i)=dx_re(4);
       Con_5(i)=dx_re(5);
       Con_6(i)=dx_re(6);
       
        Jud_1= F_ext(1)+F_ext(2)+ F_ext(3)+ F_ext(4)+ F_ext(5)+ F_ext(6);
i=i+1;
end
 plot(Con_1,'b');
 hold on;
 plot(Con_2,'g');
 plot(Con_3,'y');
 plot(Con_4);
 plot(Con_5);
 plot(Con_6);